<!-- Fichier : frontend/pages/cars-list.html -->

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Nos Voitures Disponibles - AutoLoc</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <header class="main-header public-header">
    <div class="header-container">
        <div class="logo">
            <a href="index.html">AutoLoc</a>
        </div>
        <!-- Le JS remplira cette partie -->
        <nav class="main-nav" id="main-navigation">
            <!-- Chargement de la navigation... -->
        </nav>
    </div>
</header>
   <main class="main-container">
    <h2>Toutes nos voitures disponibles</h2>
    <div id="cars-container" class="car-grid">
        <p>Chargement des voitures...</p>
    </div>
</main>
 <!-- ======================= CHATBOT CRÉATIF ======================= -->
<!-- ======================= CHATBOT CRÉATIF (Bouton Flottant) ======================= -->
<div id="chatbot-fab" class="chatbot-fab is-closed">
    
    <!-- Le bouton flottant cliquable -->
    <div id="fab-button">
        <!-- Icône de bulle de chat -->
        <svg id="fab-icon-chat" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 2c-2.236 0-4.43.89-6.08 2.34l-1.24.93c-.396.297-.6.784-.6 1.29V15.5a2.5 2.5 0 002.5 2.5h10.84a2.5 2.5 0 002.5-2.5V6.56c0-.507-.204-.993-.6-1.29l-1.24-.93A11.954 11.954 0 0010 2zM8.25 10a.75.75 0 000 1.5h3.5a.75.75 0 000-1.5h-3.5z" clip-rule="evenodd" />
        </svg>
        <!-- Icône de fermeture "X" (cachée au début) -->
        <svg id="fab-icon-close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" />
        </svg>
    </div>
    
    <!-- La fenêtre de chat (cachée au début) -->
    <div id="chatbot-window">
        <div id="chatbot-header">
            <h4>Discuter avec AutoBot</h4>
            <span>Votre assistant personnel</span>
        </div>
        <div id="chatbot-body">
            <div id="chatbot-messages">
                <div class="bot-message"><p>Bonjour ! Posez-moi une question sur nos voitures.</p></div>
            </div>
            <div id="typing-indicator" style="display: none;"><span></span><span></span><span></span></div>
            <div id="chatbot-input-container">
                <input type="text" id="chatbot-input" placeholder="Posez une question...">
                <button id="chatbot-send-btn" aria-label="Envoyer">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M3.105 2.289a.75.75 0 00-.826.95l1.414 4.949a.75.75 0 00.95.826L11.25 9.25v1.5L4.643 11.98a.75.75 0 00-.95.826l-1.414 4.95a.75.75 0 00.95.826L18.41 10.32a.75.75 0 000-1.41L3.105 2.289z" /></svg>
                </button>
            </div>
        </div>
    </div>
    
</div>
    <!-- On inclut le script JavaScript pour cette page -->
     <footer class="main-footer">
        <p>© 2025 AutoLoc - Mustapha EL GHAZZAL. Tous droits réservés.</p>
    </footer>
    <div id="modal-overlay" class="modal-hidden">
    <div id="car-details-modal">
        <button id="modal-close-btn" class="modal-close-btn" aria-label="Fermer la fenêtre">
            <!-- Icône "X" pour fermer -->
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                <path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" />
            </svg>
        </button>
        <!-- Le contenu de la modale sera injecté ici par JavaScript -->
        <div id="modal-content-container">
            <p>Chargement...</p>
        </div>
    </div>
</div>
<!-- ... (votre première modale pour les détails) ... -->

<!-- ======================= MODALE POUR LE FORMULAIRE DE RÉSERVATION ======================= -->
<div id="reservation-modal-overlay" class="modal-hidden">
    <div id="reservation-modal">
        <button id="reservation-modal-close-btn" class="modal-close-btn" aria-label="Fermer">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                <path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" />
            </svg>
        </button>
        <!-- Le formulaire et les détails seront injectés ici -->
        <div id="reservation-modal-content">
            <p>Chargement du formulaire...</p>
        </div>
    </div>
</div>
<!-- Flatpickr CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<!-- Flatpickr JS -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<!-- Pour la langue française -->
<script src="https://npmcdn.com/flatpickr/dist/l10n/fr.js"></script>
  <script src="../js/app.js"></script>         <!-- Gère la navbar -->
    <script src="../js/modal.js"></script>       <!-- DÉFINIT openDetailsModal -->
    <script src="../js/reservation.js"></script> <!-- DÉFINIT openReservationModal -->

    <!-- 3. Scripts spécifiques au contenu de la page -->
    <script src="../js/main.js"></script>        <!-- Gère la liste des voitures de l'accueil -->
    <script src="../js/cars.js"></script>
    <!-- 4. Le chatbot, qui UTILISE les fonctions des autres, est chargé EN DERNIER -->
    <script src="../js/chatbot.js"></script>
</body>
</html>